<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Secuencia Perdida ¬∑ Por Soamy Lanza</title>

<style>
:root{
  --bg:#0b1220;
  --card:#121a2b;
  --soft:#1a2440;
  --accent:#22c55e;
  --warn:#f59e0b;
  --danger:#ef4444;
  --text:#e5e7eb;
  --muted:#9ca3af;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:radial-gradient(1200px 600px at 20% -10%, #123 0%, var(--bg) 40%);
  color:var(--text);
}
.container{max-width:1200px;margin:auto;padding:20px}
.card{
  background:linear-gradient(180deg,var(--card),#0e1526);
  border-radius:16px;
  padding:18px;
  box-shadow:0 20px 50px rgba(0,0,0,.35);
}
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  flex-wrap:wrap;
}
.title{
  font-size:1.6rem;
  font-weight:700;
}
.subtitle{color:var(--muted)}
.badges{display:flex;gap:10px;flex-wrap:wrap}
.badge{
  background:#0f172a;
  border:1px solid #1f2937;
  border-radius:999px;
  padding:6px 12px;
  font-size:.85rem;
}
.main{
  display:grid;
  grid-template-columns:320px 1fr;
  gap:18px;
  margin-top:16px;
}
@media(max-width:900px){
  .main{grid-template-columns:1fr}
}
.panel{
  background:linear-gradient(180deg,var(--soft),#0f172a);
  border-radius:14px;
  padding:14px;
}
.controls select, .controls button{
  width:100%;
  margin-bottom:10px;
}
button, select, input{
  background:#0f172a;
  color:var(--text);
  border:1px solid #1f2937;
  border-radius:10px;
  padding:10px;
  font-size:1rem;
}
button.primary{background:#14532d;border-color:#22c55e}
button.warn{background:#3b2f12;border-color:#f59e0b}
button:active{transform:scale(.98)}
.stats{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px}
.stat{
  background:#0f172a;
  border-radius:10px;
  padding:10px;
  font-size:.9rem;
}
.sequence-card{
  background:linear-gradient(180deg,#0f172a,#020617);
  border-radius:16px;
  padding:18px;
  height:100%;
}
.seq{
  display:flex;
  justify-content:center;
  gap:12px;
  margin:18px 0;
  flex-wrap:wrap;
}
.num{
  min-width:60px;
  padding:14px 10px;
  border-radius:12px;
  background:#020617;
  border:1px solid #1f2937;
  font-size:1.2rem;
  text-align:center;
}
.missing{border-color:#22c55e;color:#22c55e}
.answer{
  width:100%;
  font-size:1.2rem;
  padding:12px;
  text-align:center;
}
.footer{
  margin-top:10px;
  font-size:.85rem;
  color:var(--muted);
  text-align:center;
}
.hidden{display:none}
</style>
</head>

<body>
<div class="container">
  <div class="card">
    <div class="header">
      <div>
        <div class="title">üß† Secuencia Perdida</div>
        <div class="subtitle">Juego de razonamiento: encuentra el n√∫mero que falta</div>
        <div class="subtitle">Por <strong>Soamy Lanza</strong></div>
      </div>
      <div class="badges">
        <div class="badge">‚è±Ô∏è <span id="time">00:00</span></div>
        <div class="badge">‚úÖ Correctas: <span id="correct">0</span></div>
        <div class="badge">üìä Progreso: <span id="progress">0</span>/20</div>
      </div>
    </div>

    <div class="main">
      <!-- IZQUIERDA -->
      <div class="panel">
        <div class="controls">
          <select id="level">
            <option value="bajo">Bajo</option>
            <option value="medio">Medio</option>
            <option value="alto">Alto</option>
          </select>
          <button class="primary" id="newBtn">Nuevo</button>
          <button class="warn" id="resetBtn">Reiniciar</button>
          <button id="shareBtn">Compartir</button>
        </div>

        <div class="panel">
          <strong>Instrucciones</strong>
          <ol>
            <li>Observa la secuencia.</li>
            <li>Encuentra el n√∫mero que falta.</li>
            <li>Completa las 20 secuencias.</li>
          </ol>
        </div>

        <div class="stats">
          <div class="stat">‚è±Ô∏è Tiempo<br><strong id="time2">00:00</strong></div>
          <div class="stat">üéØ Intentos<br><strong id="tries">0</strong></div>
          <div class="stat">‚ùå Fallos<br><strong id="fails">0</strong></div>
          <div class="stat">üî• Racha<br><strong id="streak">0</strong></div>
        </div>

        <div class="footer">
          Una sola pantalla ¬∑ Comparte el link por WhatsApp/redes
        </div>
      </div>

      <!-- DERECHA -->
      <div class="sequence-card">
        <h3 id="seqTitle">Secuencia 1</h3>
        <div class="seq" id="sequence"></div>
        <input class="answer" id="answer" type="number" placeholder="Tu respuesta" />
        <button class="primary" id="checkBtn">Comprobar</button>
      </div>
    </div>
  </div>
</div>

<script>
const sequences = {
  bajo: [
    [3,6,9,null,15],
    [2,4,6,null,10],
    [5,10,15,null,25],
    [1,2,3,null,5],
    [10,20,null,40,50],
    [7,11,15,null,23],
    [100,90,null,70,60],
    [4,8,12,null,20],
    [9,7,5,null,1],
    [11,22,33,null,55],
    [2,3,5,8,null],
    [6,12,null,24,30],
    [13,null,29,37,45],
    [50,45,null,35,30],
    [1,4,9,null,25],
    [8,16,null,32,40],
    [21,18,null,12,9],
    [10,20,40,null,80],
    [3,6,null,12,15],
    [5,6,7,null,9]
  ],
  medio: [],
  alto: []
};

let level="bajo", idx=0, correct=0, tries=0, fails=0, streak=0;
let timer=null, seconds=0;

const seqDiv=document.getElementById("sequence");
const answer=document.getElementById("answer");

function render(){
  const seq=sequences[level][idx];
  seqDiv.innerHTML="";
  seq.forEach(n=>{
    const d=document.createElement("div");
    d.className="num"+(n===null?" missing":"");
    d.textContent=n===null?"?":n;
    seqDiv.appendChild(d);
  });
  document.getElementById("seqTitle").textContent=`Secuencia ${idx+1}`;
}

function startTimer(){
  if(timer) return;
  timer=setInterval(()=>{
    seconds++;
    const m=String(Math.floor(seconds/60)).padStart(2,"0");
    const s=String(seconds%60).padStart(2,"0");
    document.getElementById("time").textContent=`${m}:${s}`;
    document.getElementById("time2").textContent=`${m}:${s}`;
  },1000);
}

function check(){
  startTimer();
  const seq=sequences[level][idx];
  const pos=seq.indexOf(null);
  const diff=seq[pos+1]-seq[pos-1];
  const correctVal=seq[pos-1]+diff;

  tries++;
  document.getElementById("tries").textContent=tries;

  if(Number(answer.value)===correctVal){
    correct++; streak++;
    document.getElementById("correct").textContent=correct;
    document.getElementById("streak").textContent=streak;
    idx++;
  }else{
    fails++; streak=0;
    document.getElementById("fails").textContent=fails;
    document.getElementById("streak").textContent=streak;
  }
  document.getElementById("progress").textContent=idx;
  answer.value="";
  if(idx<20) render();
}

function reset(all=true){
  idx=0; correct=0; tries=0; fails=0; streak=0;
  seconds=0;
  clearInterval(timer); timer=null;
  document.querySelectorAll("#correct,#tries,#fails,#streak").forEach(e=>e.textContent="0");
  document.getElementById("progress").textContent="0";
  document.getElementById("time").textContent="00:00";
  document.getElementById("time2").textContent="00:00";
  render();
}

document.getElementById("checkBtn").onclick=check;
document.getElementById("newBtn").onclick=()=>reset();
document.getElementById("resetBtn").onclick=()=>reset();
document.getElementById("level").onchange=e=>{level=e.target.value;reset();}
document.getElementById("shareBtn").onclick=()=>{
  const url=location.href;
  navigator.clipboard.writeText(url).then(()=>alert("Link copiado ‚úÖ"));
};

render();
</script>
</body>
</html>
